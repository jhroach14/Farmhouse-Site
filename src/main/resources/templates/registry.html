<div class="content-container" ng-controller="registryCtrl">
    <button ng-click="loadEditData()" data-target="#edit-page-modal" data-toggle="modal"  title="modify page" id="modify-page" th:if="${page.permissions == '/admin'}" class="btn btn-default">
        <span class="glyphicon glyphicon-pencil"> Edit Page</span>
    </button>
    <div class="row code main">
        <div class="row swirl-placement">
            <div class="col-md-4 swirl-left">
                <img class="swirl" src="/img/swirl-flip.png"/>
            </div>
            <div class="col-md-4">
                <div class="title head">Have a code?</div>
                <form class="code-input" id="custom-search-input">
                    <input ng-model="regCode" type="text" class="form-center form-control input-lg zero-border-radius"
                           placeholder="Enter Registry Code Here" required="required"/>
                    <button class="code-button" type="submit" ng-click="submitRegCode()">Submit</button>
                </form>
            </div>
            <div class="col-md-4 swirl-right">
                <img class="swirl" src="/img/swirl.png"/>
            </div>
        </div>
    </div>
    <div class="row registry-pic main">
        <img class="get-started" th:src="${page.main_photo?.photo_path}"/>
        <div class="get-started-text" th:text="${page.intro_text}"></div>
    </div>
    <div class="row sign-up main">
        <form class="registry-request" id="registry-form">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="email">Email address:</label>
                    <input type="email" placeholder="johnDoe@unknown.com" class="form-control" id="email" required="required"/>
                </div>
                <div class="form-group">
                    <label for="phnumber">Phone Number:</label>
                    <input type="tel" placeholder="(XXX)-XXX-XXXX" class="form-control" id="phnumber"/>
                </div>
                <div class="form-group">
                    <label for="recipient">Registry Recipient:</label>
                    <input type="text" placeholder="Who will your registry be for?" class="form-control" id="recipient" required="required"/>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label>Event Date:</label>
                    <input id="event-date" type='text' placeholder="MM/DD/YYYY" class="form-control" required="required"/>
                </div>
                <div class="form-group">
                    <label for="event">Event Decription/Comments:</label>
                    <textarea rows="6" cols="50" type="text" placeholder="What will your registry be for?" class="form-control" id="event"></textarea>
                </div>
            </div>
            <button type="submit" value="Submit" form="registry-form" class="sign-up-submit btn btn-default">Submit</button>
        </form>

    </div>
    <h1 class="subpage" style="color: grey;position: absolute;top: 40%;right:40%;font-family: 'Goudy Old Style'">Under Construction</h1>
    <!--once completed just remove above element and put subpage into below elemen-->
    <div class="row registry-gallery" style="display: none;" >
        <div class="title section">
            <h2 >Recipient: {{entry.recipient}}</h2>
            <div>Description: {{entry.description}}"</div>
        </div>
        <div class="post-line small-rule subpage"></div>
        <div class="title section">Registered Items</div>
        <div ng-repeat="item in entry.items" class="item-info">
            <span class="item-image">
                <img class="image-for-item" ng-src="{{item.photo.photo_path}}"/>

                <div class="item-text">
                    <h3 class = "text-child"> {{item.title}}
                        <button ng-click="addItem(item)"  class="btn btn-primary cart-btn">Add To Cart</button>
                    </h3> <br/>
                    <div class="price text-child"> ${{item.price}}</div><br/>
                    <div class="item-description text-child" >{{item.description}}</div>
                </div>
            </span>
            <div class="post-line small-rule subpage"></div>
        </div>
        <div class="post-line small-rule subpage"></div>
    </div>
    <!--need to readd subpage to below element once registry is completed -->
    <div class="row cart" style="display:none;" >
        <div class="title section">Cart</div>
        <div class="item-info smaller">
            <span class="item">Item</span>
            <span class="price right">Price</span>
        </div>
        <div class="post-line small-rule subpage"></div>
        <div ng-repeat="item in cartItems" class="item-info smaller">
            <span ng-click="deleteItem(item)" title="delete" class="glyphicon glyphicon-remove"></span>
            <span class="item">{{item.title}}</span>
            <span class="price right">{{item.price}}</span>
            <div class="post-line small-rule subpage"></div>
        </div>
        <button ng-click="submitCart()" id="cart-btn"  class="btn btn-primary">Checkout</button>
    </div>
    <div class="modal fade" id="edit-page-modal" th:if="${page.permissions == '/admin'}">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">Close</button>
                    <h4 class="modal-title">Modify Registry Page</h4>
                </div>
                <div class="modal-body">
                    <form id ="reg-form" class="form-horizontal">
                        <div class="form-group">

                            <label class="control-label col-sm-2" for="pic-drop">
                                <p>Main Photo</p>
                                <img id="thumb1" ng-src="{{registryInfo.main_photo.thumb_path}}" />
                            </label>
                            <div class="col-sm-10" >
                                <select class="form-control" id="pic-drop">
                                    <option ng-repeat="photo in photos" ng-selected="photo.id==registryInfo.main_photo.id" ng-value="photo.id" ng-click="selectPhoto(photo)">
                                        <p>{{photo.photo_path}}</p>
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="season">Intro Text</label>
                            <div class="col-sm-10" >
                                <input id="season" type="text" class="form-control" ng-model="registryInfo.intro_text"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <input ng-click="registryEdit()" type="submit" class="btn btn-default" value="Save" data-dismiss="modal"/>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

